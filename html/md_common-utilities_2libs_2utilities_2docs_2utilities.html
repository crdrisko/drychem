<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DryChem: Utilities</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DryChem<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">A generic, compile-time C++ toolbox with no dependencies for the modern computational chemistry project.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('md_common-utilities_2libs_2utilities_2docs_2utilities.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Utilities</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md60"></a> The utilities library consists of a number of miscellaneous functions and classes that either don't belong in one of the other libraries, don't have enough substance to warrant their own library, or exist only to assist other libraries in the project. I imagine as time goes on some of the modules within this library will spin-off into their own complete library, but for now this serves as a good place to collect them.</p>
<h1><a class="anchor" id="autotoc_md61"></a>
Table Of Contents</h1>
<ul>
<li>Getting Started</li>
<li>Features<ul>
<li>Operators</li>
<li>Testing</li>
<li>Tuples</li>
</ul>
</li>
<li>Usage</li>
</ul>
<h1><a class="anchor" id="autotoc_md62"></a>
Getting Started</h1>
<p>All the functions and classes belonging to the utilities library are wrapped in the namespace <code><a class="el" href="namespace_dry_chem.html" title="Allow for a shorter namespace name for less using statements.">DryChem</a></code>. Alternatively, each of the separate modules (Operators, Testing, etc.), have their own nested namespace in the <code><a class="el" href="namespace_cpp_utils.html">CppUtils</a></code> namespace. While either can be used, <code><a class="el" href="namespace_dry_chem.html" title="Allow for a shorter namespace name for less using statements.">DryChem</a></code> is preferred to provide a uniform interface for all portions of the library. The following line can be included in any user project to provide access to the utilities library:</p>
<div class="fragment"><div class="line"> ++</div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="utilities_8hpp.html">common-utils/utilities.hpp</a>&gt;</span></div>
<div class="ttc" id="autilities_8hpp_html"><div class="ttname"><a href="utilities_8hpp.html">utilities.hpp</a></div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md63"></a>
Features</h1>
<h2><a class="anchor" id="autotoc_md64"></a>
Operators</h2>
<ul>
<li><p class="startli"><a href="../../../include/common-utils/utilities/operators/comparisonOperators.hpp">Comparison Operators:</a></p>
<p class="startli">The comparison operators portion of the utilities library serves to provide a robust way of implementing all comparison operators in terms of the <code>==</code> and <code>&lt;</code> operators. Similar to how you would go about using the <a href="https://en.cppreference.com/w/cpp/utility/rel_ops/operator_cmp"><code>std::rel_opts</code></a>, defining these two operators for your class gives you the remaining operators without having to hard code them yourself. The difference between the <code>CompletelyComparable&lt;&gt;</code> class template and <code>std::rel_opts</code> however, is that the <code>CompletelyComparable&lt;&gt;</code> class template when inherited via private inheritance, does not inject the additional operators into the global namespace. Rather we use friend functions and the curiously recurring template pattern (CRTP) to provide the limited interface we want.</p>
<p class="startli">The other class templates, <code>EqualityComparable&lt;&gt;</code> and <code>LessThanComparable&lt;&gt;</code> aren't really designed to be used by the end user, but could be if really needed. Instead, they split the functionality up into logical components that when combined, give us the <code>CompletelyComparable&lt;&gt;</code> class. The <code>Empty</code> template parameter exists only to avoid inhibiting any optimizations (see below) the compiler may be able to make.</p>
<p class="startli">For a good example of a project implementing the operators afforded by the <code>CompletelyComparable&lt;&gt;</code> class, check out the other project in this repository: <a href="../../../../cpp-units">C++ Units</a>, specifically the <code>PhysicalQuantity&lt;&gt;</code> class template. This class defines the comparison operators <code>operator==()</code> and <code>operator&lt;()</code> then implements, via private inheritance, the rest of the comparison operators.</p>
</li>
<li><p class="startli"><a href="../../../include/common-utils/utilities/operators/potentiallyEmptyBaseClass.hpp">A Potentially Empty Base Class:</a></p>
<p class="startli">The empty base class optimization (EBCO) is an optimization strategy implemented by some compilers, which allows for empty classes deriving from other empty classes to contribute no additional memory. However, if two empty-base class derived classes are inherited by another class, this optimization is inhibited and both classes contribute to the memory. We can get around this by defining additional template parameters for potentially empty base classes, and use the curiously recurring template pattern (CRTP) in conjunction with the EBCO, to optimize, or rather let the compiler optimize, the traits and policies we intend to inherit. With this in mind, the <code>PotentiallyEmptyBaseClass&lt;&gt;</code> class template is a helper class for some of the operators and traits in the library. I don't imagine this class will get much use outside the repository, but examples of where it is used can be found with the Comparison Operators above.</p>
</li>
</ul>
<hr  />
<h2><a class="anchor" id="autotoc_md66"></a>
Testing</h2>
<ul>
<li><p class="startli"><a href="../../../include/common-utils/utilities/testing/performanceTesting.hpp">Performance Testing:</a></p>
<p class="startli">Often when I go to refactor some code I wonder if the changes I'm making are making the program faster or slower. The performanceTesting utility module consists of a simple function that times how long it takes to invoke a function. The <code>timeAndInvoke&lt;&gt;()</code> function template takes a function and a variable number of arguments and (depending on the return type of the function in question) can either return a structure containing the result of the function call and the time or just the time it took to invoke the function. Utilizing some features from C++17, the return type can be used as a structured binding as we can see in the example below. This interface provides a lightweight and easy way to visualize the time it takes each function to be called, while sacrificing very little in terms of readability.</p>
<div class="fragment"><div class="line">++</div>
<div class="line"><span class="preprocessor"> #include &lt;<a class="code" href="utilities_8hpp.html">common-utils/utilities.hpp</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"> <span class="keyword">auto</span> [result, time] = DryChem::timeAndInvoke(funcToCall, arg1, arg2, ..., argN);</div>
</div><!-- fragment --><p class="startli">In this example, the <code>result</code> variable now contains the value returned from <code>funcToCall(arg1, arg2, ..., argN)</code>, and the <code>time</code> variable contains the time (in microseconds) it took to invoke <code>funcToCall</code>.</p>
</li>
</ul>
<hr  />
<h1><a class="anchor" id="autotoc_md68"></a>
Usage</h1>
<p>For working examples of how to use the library, refer to the <a href="../tests">testing</a> and/or <a href="../samples">samples</a> directories, which together provide a comprehensive overview of the library's usage.</p>
<p>To build and run the code samples for the utilities library, one should include the <code>utils_build_samples=ON</code> option to the CMake instructions. Similarly, to build and run the unit tests for the individual utility functions, one should include the <code>utils_build_tests=ON</code> option, as shown in the code below:</p>
<div class="fragment"><div class="line">cmake ../drychem/. -Dutils_build_samples=ON -Dutils_build_tests=ON</div>
<div class="line">make</div>
<div class="line"> </div>
<div class="line">## Run the utility library&#39;s samples ##</div>
<div class="line">cd bin/samples</div>
<div class="line">./comparableExample</div>
<div class="line"> </div>
<div class="line">## Run the utility library&#39;s unit tests ##</div>
<div class="line">cd ../tests</div>
<div class="line">./testAllUtilityFunctions</div>
</div><!-- fragment --><p><em>NOTE: The samples and tests will not be installed with the rest of the library. They exist only to extend the documentation and help the user navigate the library.</em> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu May 23 2024 11:45:20 for DryChem by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
